webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};for(var i=s("VU/8")({name:"App"},n,!1,function(t){s("Q1Gu")},null,null).exports,l=s("/ocq"),a=[],r=0;r<100;r++){var d=void 0,c=void 0;r%3==0?(d="http://img.juimg.com/tuku/yulantu/121020/240425-12102020030650.jpg",c=4):r%2==0?(d="http://img3.imgtn.bdimg.com/it/u=2225473985,698261038&fm=15&gp=0.jpg",c=9):(d="http://mpic.tiankong.com/1a7/f3d/1a7f3d7a52c8698706041ae5ef43a0e4/640.jpg",c=1),a.push({img:d,name:"水果"+r,price:r+1,number:r,max:c})}var u={name:"index",data:function(){return{allGoods:a,goodOnShow:[],selGoods:[],goodDetail:{},showDetail:!1,page:1,pages:0,add:!1,index:null,num:!1}},mounted:function(){this.pages=this.allGoods.length%24>0?parseInt(this.allGoods.length/24)+1:this.allGoods.length/24,this.changePage(1)},methods:{changePage:function(t){this.page=t,this.goodOnShow=this.allGoods.slice(24*(t-1),24*t)},startDrag:function(t,e){t.dataTransfer.setData("index",e)},goodsOver:function(t,e){var s=this;t.preventDefault(),t.stopPropagation(),this.resetAllStyle(),this.add||(t.offsetX<15?(setTimeout(function(){s.num=!0},1e3),this.num&&(this.add=!0,this.selGoods.splice(e,0,[]),this.index=e)):(this.num=!1,document.querySelectorAll(".selGoods li div")[e].style.border="2px solid green"))},drag:function(t){var e=this,s=t.dataTransfer.getData("index");this.selGoods.push([this.goodOnShow[s]]),setTimeout(function(){var t=document.querySelector("#wrap").clientHeight;document.querySelector("#wrap .selGoods").clientHeight>t&&(alert("商品槽位已满"),e.selGoods.pop())},0),this.resetAllStyle()},del:function(t,e,s){t.preventDefault(),this.selGoods[e].splice(s,1),0===this.selGoods[e].length&&this.selGoods.splice(e,1)},dragInLi:function(t,e){t.stopPropagation();var s=t.dataTransfer.getData("index");this.selGoods[e].length<1?(this.selGoods.splice(this.index,1,[this.goodOnShow[s]]),this.add=!1,this.num=!1):this.selGoods[e].length!==this.goodOnShow[s]&&this.selGoods[e].length<this.selGoods[e][0].max?this.selGoods[e][0].max===this.goodOnShow[s].max?this.selGoods[e].push(this.goodOnShow[s]):alert("当前商品尺寸与拖入商品尺寸不匹配"):alert("已达数量上限"),this.resetAllStyle()},resetAllStyle:function(){document.querySelectorAll(".selGoods li div").forEach(function(t){t.style.border="0"})},over:function(t){t.preventDefault()},fullScreen:function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},showInfor:function(t,e){this.showDetail=!0,this.goodDetail=this.selGoods[t][e]},closeInfor:function(){this.showDetail=!1}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"counter"},[s("p",[t._v("货柜")]),t._v(" "),s("div",{staticClass:"wrap",attrs:{id:"wrap"},on:{drop:function(e){t.drag(e)},dragover:function(e){t.over(e)}}},[s("ul",{staticClass:"selGoods"},[s("li",{directives:[{name:"show",rawName:"v-show",value:t.selGoods.length>0,expression:"selGoods.length > 0"}]},t._l(t.selGoods,function(e,o){return s("div",{on:{drop:function(e){t.dragInLi(e,o)},dragover:function(e){t.goodsOver(e,o)}}},t._l(e,function(n,i){return e.length>0?s("img",{attrs:{width:1===e.length?"100%":4===n.max?"48%":"31%",src:n.img,alt:"",draggable:"false"},on:{click:function(e){t.showInfor(o,i)},contextmenu:function(e){t.del(e,o,i)}}}):t._e()}))}))])])]),t._v(" "),s("div",{staticClass:"all"},[s("p",[t._v("物品栏")]),t._v(" "),t._m(0),t._v(" "),s("ul",{staticClass:"allGoods"},t._l(t.goodOnShow,function(e,o){return s("li",{attrs:{draggable:"true"},on:{dragstart:function(e){t.startDrag(e,o)}}},[s("img",{style:{width:100===e.width?"65%":50===e.width?"55%":"45%",height:100===e.width?"85%":50===e.width?"75%":"65%",marginTop:100===e.width?"3%":50===e.width?"5%":"8%"},attrs:{src:e.img,alt:"",draggable:"true"}})])})),t._v(" "),s("div",{staticClass:"page"},[s("ul",t._l(t.pages,function(e){return s("li",{class:t.page==e?"sel":"",on:{click:function(s){t.changePage(e)}}},[t._v("\n          "+t._s(e)+"\n        ")])}))])]),t._v(" "),s("input",{staticClass:"full",attrs:{value:"全屏",type:"button"},on:{click:function(e){t.fullScreen()}}}),t._v(" "),t.showDetail?s("div",{staticClass:"detail"},[s("span",{on:{click:t.closeInfor}},[t._v("×")]),t._v(" "),s("img",{attrs:{src:t.goodDetail.img,alt:""}}),t._v(" "),s("p",[s("span",[t._v("商品名字 ："+t._s(t.goodDetail.name))]),s("span")]),t._v(" "),s("p",[s("span",[t._v("编号 ："+t._s(t.goodDetail.number))]),s("span",[t._v("价格 ："+t._s(t.goodDetail.price))])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[this._v("搜索："),e("input",{attrs:{type:"text",placeholder:"输入搜索内容..."}})])}]};var g=s("VU/8")(u,h,!1,function(t){s("R5U9")},"data-v-0aedbd5b",null).exports,f={name:"HelloWorld",data:function(){return{allGoods:a,goodOnShow:[],selGoods:[],goodDetail:{},showDetail:!1,page:1,pages:0}},mounted:function(){this.pages=this.allGoods.length%24>0?parseInt(this.allGoods.length/24)+1:this.allGoods.length/24,this.changePage(1)},methods:{changePage:function(t){this.page=t,this.goodOnShow=this.allGoods.slice(24*(t-1),24*t)},startDrag:function(t,e){t.dataTransfer.setData("index",e)},goodsOver:function(t,e){100!==this.selGoods[e][0].width&&(t.preventDefault(),t.stopPropagation(),this.resetAllStyle(),document.querySelectorAll(".selGoods li")[e].style.border="2px solid green")},drag:function(t){var e=this,s=t.dataTransfer.getData("index");this.selGoods.push([this.goodOnShow[s]]),setTimeout(function(){var t=document.querySelector("#wrap").clientHeight;document.querySelector("#wrap .selGoods").clientHeight>t&&(alert("商品槽位已满"),e.selGoods.pop())},0),this.resetAllStyle()},dragInLi:function(t,e){t.stopPropagation();var s=this.competeType(this.selGoods[e]),o=void 0,n=t.dataTransfer.getData("index");switch(s){case 30:o=9;break;case 50:case"mix":o=4}9===o&&this.selGoods[e].length>3?30!==this.goodOnShow[n].width?alert("当前商品尺寸及数量与拖入商品尺寸不匹配"):this.selGoods[e].length>=o?alert("已达数量上限"):this.selGoods[e].push(this.goodOnShow[n]):this.selGoods[e].length>=o?alert("已达数量上限"):100===this.goodOnShow[n].width?alert("尺寸不符合要求"):this.selGoods[e].push(this.goodOnShow[n]),this.resetAllStyle()},over:function(t){t.preventDefault()},resetAllStyle:function(){document.querySelectorAll(".selGoods li").forEach(function(t){t.style.border="0"})},del:function(t,e,s){t.preventDefault(),this.selGoods[e].splice(s,1),0===this.selGoods[e].length&&this.selGoods.splice(e,1)},showInfor:function(t,e){this.showDetail=!0,this.goodDetail=this.selGoods[t][e]},closeInfor:function(){this.showDetail=!1},fullScreen:function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},getMaxWidth:function(t){var e=t.map(function(t){return t.width}),s=Math.max.apply(null,e);return 100===s?"20%":50===s?"10%":"6%"},competeType:function(t){return t.every(function(t){return 30===t.width})?30:t.every(function(t){return 50===t.width})?50:"mix"}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"counter"},[s("p",[t._v("货柜")]),t._v(" "),s("div",{staticClass:"wrap",attrs:{id:"wrap"},on:{drop:function(e){t.drag(e)},dragover:function(e){t.over(e)}}},[s("ul",{staticClass:"selGoods"},t._l(t.selGoods,function(e,o){return s("li",{style:{width:e.length>1?30===t.competeType(e)?"18%":"20%":t.getMaxWidth(e),display:1===e.length?"flex":"block","padding-top":1===e.length?"0":"3%",transform:e.length>1?"rotate(180deg)":""},attrs:{draggable:"false"},on:{drop:function(s){100!==e[0].width&&t.dragInLi(s,o)},dragover:function(e){t.goodsOver(e,o)}}},[t._l(e,function(n,i){return 1===e.length?s("img",{style:{width:100===n.width?"100%":50===n.width?"90%":"110%",height:100===n.width?"70%":50===n.width?"40%":"25%","-webkit-box-flex":100===n.width?"3":50===n.width?"2":"1",transform:30===e[0].width?"translateY(90%)":50===e[0].width?"translateY(30%)":""},attrs:{src:n.img,alt:"",draggable:"false"},on:{click:function(e){t.showInfor(o,i)},contextmenu:function(e){t.del(e,o,i)}}}):t._e()}),t._v(" "),t._l(e,function(n,i){return e.length>1&&30===t.competeType(e)?s("img",{staticClass:"img9",style:{float:"right",transform:"rotate(180deg)"},attrs:{src:n.img,alt:"",draggable:"false"},on:{click:function(e){t.showInfor(o,i)},contextmenu:function(e){t.del(e,o,i)}}}):t._e()}),t._v(" "),t._l(e,function(n,i){return e.length>1&&50===t.competeType(e)?s("img",{staticClass:"img4",style:{float:"right",transform:"rotate(180deg)"},attrs:{src:n.img,alt:"",draggable:"false"},on:{click:function(e){t.showInfor(o,i)},contextmenu:function(e){t.del(e,o,i)}}}):t._e()}),t._v(" "),t._l(e,function(n,i){return e.length>1&&"mix"===t.competeType(e)?s("div",{staticClass:"block4",style:{float:"right",transform:"rotate(180deg)"},attrs:{da:i,draggable:"false"},on:{click:function(e){t.showInfor(o,i)},contextmenu:function(e){t.del(e,o,i)}}},[s("img",{style:{width:30===n.width?"58%":"90%",height:30===n.width?"66%":"85%","margin-top":30===n.width?"13%":""},attrs:{src:n.img,alt:"",draggable:"false"}})]):t._e()})],2)}))])]),t._v(" "),s("div",{staticClass:"all"},[s("p",[t._v("物品栏")]),t._v(" "),t._m(0),t._v(" "),s("ul",{staticClass:"allGoods"},t._l(t.goodOnShow,function(e,o){return s("li",{attrs:{draggable:"true"},on:{dragstart:function(e){t.startDrag(e,o)}}},[s("img",{style:{width:100===e.width?"65%":50===e.width?"55%":"45%",height:100===e.width?"85%":50===e.width?"75%":"65%",marginTop:100===e.width?"3%":50===e.width?"5%":"8%"},attrs:{src:e.img,alt:"",draggable:"true"}})])})),t._v(" "),s("div",{staticClass:"page"},[s("ul",t._l(t.pages,function(e){return s("li",{class:t.page==e?"sel":"",on:{click:function(s){t.changePage(e)}}},[t._v("\n          "+t._s(e)+"\n        ")])}))])]),t._v(" "),s("input",{staticClass:"full",attrs:{value:"全屏",type:"button"},on:{click:function(e){t.fullScreen()}}}),t._v(" "),t.showDetail?s("div",{staticClass:"detail"},[s("span",{on:{click:t.closeInfor}},[t._v("×")]),t._v(" "),s("img",{attrs:{src:t.goodDetail.img,alt:""}}),t._v(" "),s("p",[s("span",[t._v("商品名字 ："+t._s(t.goodDetail.name))]),s("span")]),t._v(" "),s("p",[s("span",[t._v("编号 ："+t._s(t.goodDetail.number))]),s("span",[t._v("价格 ："+t._s(t.goodDetail.price))])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search"},[this._v("搜索："),e("input",{attrs:{type:"text",placeholder:"输入搜索内容..."}})])}]};var m=s("VU/8")(f,p,!1,function(t){s("rn2H")},"data-v-39eb1c27",null).exports;o.a.use(l.a);var v=new l.a({routes:[{path:"/",name:"index",component:g},{path:"/HelloWorld",name:"HelloWorld",component:m}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:v,components:{App:i},template:"<App/>"})},Q1Gu:function(t,e){},R5U9:function(t,e){},rn2H:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9d17921e9d11b26d4ce4.js.map